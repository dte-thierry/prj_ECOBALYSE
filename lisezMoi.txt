Fichier de remarques : lisezMoi.txt

# Remarques et Justifications des Choix

## Introduction
Ce document présente les remarques et justifications des choix effectués pour la mise en place 
de l'ETL, dans le cadre du pipeline relatif à l'API Ecobalyse.

## 1. Extraction

### Objectif

### Choix Techniques

#### 1.1. Utilisation

- **Justification** : 

  - ...
  - ...
  - ...

#### 1.2. Structure du Script

- **Justification** : 

  - ...
  - ...
  - ...

#### 1.3. Gestion des Logs

- **Justification** : 

  - Les résultats de l'ETL sont enregistrés dans différents fichiers de logs (`*.log`). 
    Cela permet de conserver une trace des traitements effectués et de faciliter le débogage.

### DockerFile

- **Justification** : 

  - Le Dockerfile est configuré pour installer les dépendances nécessaires et exécuter le 
    script d'extraction des données. 

  - La commande CMD est utilisée pour lancer le script et garder le conteneur actif après 
    l’exécution du script.

### Docker-compose.yml

- **Justification** : 

  - Le fichier docker-compose.yml est configuré pour lancer les différents services. 
  - Les volumes et réseaux sont configurés pour permettre la communication entre les conteneurs et 
    le partage des logs.

## Conclusion

Ce document présente les choix techniques et les justifications pour la mise en place des l'ETL Ecobalyse.



# Utilisation 

## Exécuter le(s) script(s) 

./info.sh # (vérifie l'installation de Docker)
./stop.sh # (arrête les services)
./reset.sh # (supprime et réinitialise les services)
./setup.sh # (démarre les services)

./clear.sh # (supprime les fichiers log et json)
./rebuild.sh # (relance les services sans les supprimer)


## Lancer Flask

<IP_DE_VOTRE_VM>:5000/

127.0.0.1:5000/testflask, pour lister les BDD MongoDB
127.0.0.1:5000/testmongo, pour vérifier le contenu Ecobalyse de la BDD MongoDB
127.0.0.1:5000/testredis, pour vérifier le contenu Ecobalyse de la BDD Redis


## Vérifier l’état des conteneurs

docker-compose ps


## Vérifier les logs

docker-compose logs ecblwebscraping
docker-compose logs ecblredis
docker-compose logs ecblmongodb
docker-compose logs ecblflask


## Arrêter, Reconstruire et redémarrer les services

docker-compose down
docker-compose up -d --build


## vérifier les logs en temps réel

docker logs -f ecblwebscraping
docker logs -f ecblredis
docker logs -f ecblmongodb
docker logs -f ecblflask
        